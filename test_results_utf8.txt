
> league-profile-tool@1.3.7 test
> vitest run


[1m[46m RUN [49m[22m [36mv4.0.18 [39m[90mC:/Users/leenny/Documents/codicini/lol-profile-editor[39m

 [32mÔ£ô[39m src/hooks/useToast.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 26[2mms[22m[39m
 [32mÔ£ô[39m src/hooks/useLogs.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 52[2mms[22m[39m
 [32mÔ£ô[39m src/components/tabs/LogsTab.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[32m 66[2mms[22m[39m
 [32mÔ£ô[39m src/hooks/useMusicSync.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 29[2mms[22m[39m
node.exe : [90mstderr[2m | 
src/components/tabs/BioTab.te
st.tsx[2m > 
[22m[2mBioTab[2m > 
[22m[2mshould handle bio 
update
In 
C:\nvm4w\nodejs\npm.ps1:16 
car:5
+     & "$basedir/node$exe"  
"$basedir/node_modules/npm/bi
n/npm-cli.js" ...
+     ~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~
    + CategoryInfo           
   : NotSpecified: ([90mst  
  derr[2m...ndle bio upda   
 te:String) [], RemoteExc    
eption
    + FullyQualifiedErrorId  
   : NativeCommandError
 
[22m[39mAn update to 
BioTab inside a test was not 
wrapped in act(...).

When testing, code that 
causes React state updates 
should be wrapped into 
act(...):

act(() => {
  /* fire events that update 
state */
});
/* assert on the output */

This ensures that you're 
testing the behavior the 
user would see in the 
browser. Learn more at https:
//react.dev/link/wrap-tests-w
ith-act

 [31mÔØ»[39m src/components/tabs/RankTab.test.tsx [2m([22m[2m3 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[32m 115[2mms[22m[39m
     [32mÔ£ô[39m should render rank override card[32m 83[2mms[22m[39m
[31m     [31m├ù[31m should update rank preview when selection changes[39m[32m 21[2mms[22m[39m
     [32mÔ£ô[39m should call invoke with correct parameters on apply[32m 9[2mms[22m[39m
 [31mÔØ»[39m src/components/tabs/MusicTab.test.tsx [2m([22m[2m4 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[32m 89[2mms[22m[39m
     [32mÔ£ô[39m should render music auto bio card[32m 55[2mms[22m[39m
     [32mÔ£ô[39m should handle enabling music sync[32m 13[2mms[22m[39m
[31m     [31m├ù[31m should show error when enabling without credentials[39m[32m 10[2mms[22m[39m
[31m     [31m├ù[31m should normalize last.fm username from URL[39m[32m 9[2mms[22m[39m
[90mstderr[2m | src/compone
nts/tabs/BioTab.test.tsx[2m 
> [22m[2mBioTab[2m > 
[22m[2mshould update 
availability
[22m[39mAn update to 
BioTab inside a test was not 
wrapped in act(...).

When testing, code that 
causes React state updates 
should be wrapped into 
act(...):

act(() => {
  /* fire events that update 
state */
});
/* assert on the output */

This ensures that you're 
testing the behavior the 
user would see in the 
browser. Learn more at https:
//react.dev/link/wrap-tests-w
ith-act

 [32mÔ£ô[39m src/components/tabs/BioTab.test.tsx [2m([22m[2m4 tests[22m[2m)[22m[32m 97[2mms[22m[39m
 [32mÔ£ô[39m src/components/tabs/SettingsTab.test.tsx [2m([22m[2m6 tests[22m[2m)[22m[32m 107[2mms[22m[39m

[31mÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»[3
9m[1m[41m Failed Tests 3 [
49m[22m[31mÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»Ô
Ä»ÔÄ»[39m

[41m[1m FAIL [22m[49m src
/components/tabs/MusicTab.tes
t.tsx[2m > 
[22mMusicTab[2m > 
[22mshould show error when 
enabling without credentials
[31m[1mAssertionError[22m:
 expected "vi.fn()" to be 
called with arguments: [ 
ÔÇª(2) ][90m

Number of calls: [1m0[22m
[31m[39m
[36m [2mÔØ»[22m src/compon
ents/tabs/MusicTab.test.tsx:
[2m57:37[22m[39m
    [90m 55| [39m        
[35mif[39m 
([33m![39menableBtn) 
[35mthrow[39m 
[35mnew[39m 
[33mError[39m([32m'Enable 
button not 
found'[39m)[33m;[39m
    [90m 56| [39m        fi
reEvent[33m.[39m[34mclick
[39m(enableBtn)[33m;[39m
    [90m 57| [39m        ex
pect(mockProps.showToast).toH
aveBeenCalledWith("Complete 
accÔÇª
    [90m   | [39m          
                          
[31m^[39m
    [90m 58| [39m    
})[33m;[39m
    [90m 59| [39m

[31m[2mÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ
»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»Ô
Ä»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»[1/3]Ô
Ä»[22m[39m

[41m[1m FAIL [22m[49m src
/components/tabs/MusicTab.tes
t.tsx[2m > 
[22mMusicTab[2m > 
[22mshould normalize 
last.fm username from URL
[31m[1mAssertionError[22m:
 expected '' to be 'tester' 
// Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- tester[39m

[36m [2mÔØ»[22m src/compon
ents/tabs/MusicTab.test.tsx:
[2m70:41[22m[39m
    [90m 68| [39m        
[35mconst[39m updateFn 
[33m=[39m setMusicBio[33m.
[39mmock[33m.[39mcalls[[3
4m0[39m][[34m0[39m][33m;
[39m
    [90m 69| [39m        
[35mconst[39m newState 
[33m=[39m [34mupdateFn[39
m(mockProps[33m.[39mmusicBi
o)[33m;[39m
    [90m 70| [39m        [
34mexpect[39m(newState[33m.
[39mlastfmUsername)[33m.[3
9m[34mtoBe[39m([32m'tester
'[39m)[33m;[39m
    [90m   | [39m          
                             
 [31m^[39m
    [90m 71| [39m    
})[33m;[39m
    [90m 72| 
[39m})[33m;[39m

[31m[2mÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ
»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»Ô
Ä»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»[2/3]Ô
Ä»[22m[39m

[41m[1m FAIL [22m[49m src
/components/tabs/RankTab.test
.tsx[2m > [22mRankTab[2m 
> [22mshould update rank 
preview when selection 
changes
[31m[1mTestingLibraryElemen
tError[22m[39m: Found 
multiple elements with the 
text: GOLD

Here are the matching 
elements:

Ignored nodes: comments, 
script, style
[36m<option[39m
  [33mvalue[39m=[32m"GOLD"
[39m
[36m>[39m
  [0mGOLD[0m
[36m</option>[39m

Ignored nodes: comments, 
script, style
[36m<span[39m
  [33mstyle[39m=[32m"font-
size: 1rem; font-weight: 
700; color: rgb(255, 255, 
255);"[39m
[36m>[39m
  [0mGOLD[0m
  [0m [0m
  [36m<span[39m
    
[33mstyle[39m=[32m"color: 
var(--hextech-gold);"[39m
  [36m>[39m
    [0mI[0m
  [36m</span>[39m
[36m</span>[39m

(If this is intentional, 
then use the `*AllBy*` 
variant of the query (like 
`queryAllByText`, 
`getAllByText`, or 
`findAllByText`)).

Ignored nodes: comments, 
script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"t
ab-content fadeIn"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m
"card"[39m
      [36m>[39m
        [36m<h3[39m
          [33mclass[39m=[3
2m"card-title"[39m
        [36m>[39m
          [0mRank 
Override[0m
        [36m</h3>[39m
        [36m<p[39m
          [33mstyle[39m=[3
2m"font-size: 0.8rem; color: 
var(--text-secondary); 
margin-bottom: 25px;"[39m
        [36m>[39m
          [0mModify your 
visible rank in the chat and 
hover cards.[0m
        [36m</p>[39m
        [36m<div[39m
          [33mclass[39m=[3
2m"input-group"[39m
        [36m>[39m
          [36m<label[39m
            [33mfor[39m=[3
2m"solo-tier"[39m
          [36m>[39m
            [0mSolo/Duo 
Ranking[0m
          [36m</label>[39m
          [36m<div[39m
            [33mstyle[39m=
[32m"display: flex; gap: 
10px;"[39m
          [36m>[39m
            [36m<select[39m
              [33mid[39m=[
32m"solo-tier"[39m
              
[33mstyle[39m=[32m"flex: 
2 1 0%;"[39m
            [36m>[39m
              
[36m<option[39m
                [33mvalue[3
9m=[32m"IRON"[39m
              [36m>[39m
                [0mIRON[0m
              
[36m</option>[39m
              
[36m<option[39m
                [33mvalue[3
9m=[32m"BRONZE"[39m
              [36m>[39m
                
[0mBRONZE[0m
              
[36m</option>[39m
              
[36m<option[39m
                [33mvalue[3
9m=[32m"SILVER"[39m
              [36m>[39m
                
[0mSILVER[0m
              
[36m</option>[39m
              
[36m<option[39m
                [33mvalue[3
9m=[32m"GOLD"[39m
              [36m>[39m
                [0mGOLD[0m
              
[36m</option>[39m
              
[36m<option[39m
                [33mvalue[3
9m=[32m"PLATINUM"[39m
              [36m>[39m
                
[0mPLATINUM[0m
              
[36m</option>[39m
              
[36m<option[39m
                [33mvalue[3
9m=[32m"EMERALD"[39m
              [36m>[39m
                
[0mEMERALD[0m
              
[36m</option>[39m
              
[36m<option[39m
                [33mvalue[3
9m=[32m"DIAMOND"[39m
              [36m>[39m
                
[0mDIAMOND[0m
              
[36m</option>[39m
              
[36m<option[39m
                [33mvalue[3
9m=[32m"MASTER"[39m
              [36m>[39m
                
[0mMASTER[0m
              
[36m</option>[39m
              
[36m<option[39m
                [33mvalue[3
9m=[32m"GRANDMASTER"[39m
              [36m>[39m
                
[0mGRANDMASTER[0m
              
[36m</option>[39m
              
[36m<option[39m
                [33mvalue[3
9m=[32m"CHALLENGER"[39m
              [36m>[39m
                
[0mCHALLENGER[0m
              
[36m</option>[39m
            
[36m</select>[39m
            [36m<select[39m
              
[33mstyle[39m=[32m"flex: 
1 1 0%;"[39m
            [36m>[39m
              
[36m<option[39m
                
[33mvalue[39m=[32m"I"[39m
              [36m>[39m
                [0mI[0m
              
[36m</option>[39m
              
[36m<option[39m
                [33mvalue[3
9m=[32m"II"[39m
              [36m>[39m
                [0mII[0m
              
[36m</option>[39m
              
[36m<option[39m
                [33mvalue[3
9m=[32m"III"[39m
              [36m>[39m
                [0mIII[0m
              
[36m</option>[39m
              
[36m<option[39m
                [33mvalue[3
9m=[32m"IV"[39m
              [36m>[39m
                [0mIV[0m
              
[36m</option>[39m
            
[36m</select>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[3
2m"rank-preview-mini"[39m
          [33mstyle[39m=[3
2m"margin-top: 20px; 
padding: 12px; background: 
rgba(255, 255, 255, 0.02); 
border: 1px solid 
var(--glass-border); 
border-radius: 6px; 
text-align: center;"[39m

[2m Test Files [22m [1m[31m2 failed[39m[22m[2m | [22m[1m[32m6 passed[39m[22m[90m (8)[39m
[2m      Tests [22m [1m[31m3 failed[39m[22m[2m | [22m[1m[32m27 passed[39m[22m[90m (30)[39m
[2m   Start at [22m 22:26:06
[2m   Duration [22m 1.54s[2m (transform 761ms, setup 883ms, import 1.76s, tests 579ms, environment 6.50s)[22m

        [36m>[39m
          [36m<span[39m
            [33mstyle[39m=
[32m"font-size: 0.6rem; 
text-transform: uppercase; 
letter-spacing: 2px; color: 
var(--text-secondary); 
display: block; 
margin-bottom: 4px;"[39m
          [36m>[39m
            [0mDraft 
Preview[0m
          [36m</span>[39m
          [36m<span[39m
            [33mstyle[39m=
[32m"font-size: 1rem; 
font-weight: 700; color: 
rgb(255, 255, 255);"[39m
          [36m>[39m
            [0mGOLD[0m
            [0m [0m
            [36m<span[39m
              
[33mstyle[39m=[32m"color: 
var(--hextech-gold);"[39m
            [36m>[39m
              [0mI[0m
            [36m</span>[39m
          [36m</span>[39m
        [36m</div>[39m
        [36m<button[39m
          [33mclass[39m=[3
2m"primary-btn"[39m
          
[33mstyle[39m=[32m"width: 
100%; margin-top: 20px;"[39m
        [36m>[39m
          [0mAPPLY[0m
        [36m</button>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
[90m [2mÔØ»[22m 
Object.getElementError node_m
odules/@testing-library/dom/d
ist/config.js:[2m37:19[22m
[39m
[90m [2mÔØ»[22m 
getElementError node_modules/
@testing-library/dom/dist/que
ry-helpers.js:[2m20:35[22m
[39m
[90m [2mÔØ»[22m getMultipl
eElementsFoundError node_modu
les/@testing-library/dom/dist
/query-helpers.js:[2m23:10[
22m[39m
[90m [2mÔØ»[22m node_modul
es/@testing-library/dom/dist/
query-helpers.js:[2m55:13[2
2m[39m
[90m [2mÔØ»[22m node_modul
es/@testing-library/dom/dist/
query-helpers.js:[2m95:19[2
2m[39m
[36m [2mÔØ»[22m src/compon
ents/tabs/RankTab.test.tsx:[
2m34:23[22m[39m
    [90m 32| [39m
    [90m 33| [39m        fi
reEvent[33m.[39m[34mchange
[39m(tierSelect[33m,[39m 
{ target[33m:[39m { 
value[33m:[39m 
[32m'GOLD'[39m } 
})[33m;[39m
    [90m 34| [39m        [
34mexpect[39m(screen[33m.[
39m[34mgetByText[39m([32m'
GOLD'[39m))[33m.[39m[34mt
oBeDefined[39m()[33m;[39m
    [90m   | [39m          
            [31m^[39m
    [90m 35| [39m    
})[33m;[39m
    [90m 36| [39m

[31m[2mÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ
»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»Ô
Ä»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»[3/3]Ô
Ä»[22m[39m

